# Infinite Tales RPG - Feature-√úbersicht

## üéÆ Hauptfeatures

### 1. **KI-gesteuerte Storytelling-Engine**
- **Dynamische Story-Generierung**: Die gesamte Geschichte wird in Echtzeit von Google Gemini AI generiert
- **Adaptive Erz√§hlweise**: Die Story passt sich den Entscheidungen und Aktionen des Spielers an
- **Multiple Story-Systeme**:
  - **Tale-Modus**: Einzelne, in sich geschlossene Abenteuer
  - **Campaign-Modus**: Strukturierte Kampagnen mit mehreren Kapiteln und Plot-Points
- **Story-Agenten**: Spezialisierte AI-Agenten f√ºr verschiedene Aspekte:
  - Story Agent: Hauptgeschichte und Weltenbau
  - Event Agent: Zuf√§llige Ereignisse und Wendungen
  - Summary Agent: Zusammenfassung relevanter Story-Details

### 2. **Charaktersystem**

#### Charaktererstellung
- **Umfassende Charakterbeschreibung**:
  - Name, Klasse, Rasse, Geschlecht
  - Aussehen, Alignment, Pers√∂nlichkeit
  - Hintergrundgeschichte und Motivation
- **KI-generierte Charaktere**: Automatische Generierung passend zum gew√§hlten Spielsystem
- **Manuelle Anpassung**: Vollst√§ndige Kontrolle √ºber alle Charaktereigenschaften

#### Charakterstatistiken
- **Levelsystem**: Progression von Level 1 aufw√§rts
- **Attribute**: Dynamisches System mit Werten von -10 bis +10
- **Skills**: Spezialisierte F√§higkeiten mit Progression
- **Ressourcen**: HP, MP und benutzerdefinierte Ressourcen
- **Zauber und F√§higkeiten**: Aktiv nutzbare Skills mit Ressourcenkosten

#### Charakterprogression
- **XP-System**: 
  - SMALL, MEDIUM, HIGH XP-Belohnungen
  - XP-Bedarf steigt mit Level (Base: 100 XP f√ºr Level 2)
- **Level-Up mit KI-Unterst√ºtzung**:
  - AI schl√§gt sinnvolle Attributs-Steigerungen vor
  - Neue F√§higkeiten oder Verbesserung bestehender Abilities
  - Ressourcen-Maximum erh√∂hen
  - Basiert auf Story-Progression und Spielweise
- **Skill-Progression**:
  - Skills verbessern sich durch erfolgreiche Anwendung
  - Fortschrittsbalken f√ºr jeden Skill
  - Automatischer Skill-Aufstieg bei Erreichen der Schwelle

#### Party-Management
- **Multi-Character-System**: Verwaltung mehrerer Charaktere
- **NPC-Integration**: NPCs k√∂nnen der Party beitreten
- **Character-Switching**: Wechsel zwischen aktiven Party-Mitgliedern
- **Character-Transformation**: Charaktere k√∂nnen sich verwandeln/ver√§ndern

### 3. **Kampfsystem**

#### Combat-Mechanik
- **Rundenbasierter Kampf**
- **NPC-Actions**: KI steuert NPC-Aktionen und Reaktionen
- **Tactical Combat**: 
  - Ziel-Auswahl (Single/Multi-Target)
  - Positionierung und Strategie
- **Initiative-System**: Aktionsreihenfolge
- **Combat Agent**: Spezialisierter AI-Agent f√ºr Kampfsituationen

#### Kampf-Features
- **Damage-System**: W√ºrfelbasierte Schadensberechnung
- **Status-Effekte**: Vergiftung, Blutung, Bet√§ubung, etc.
- **Multi-Target-Angriffe**: Mehrere Ziele gleichzeitig
- **Ressourcen-Management im Kampf**: HP, MP, Ausdauer etc.

### 4. **W√ºrfelsystem (Dice Rolling)**

#### 3D-W√ºrfel-Visualisierung
- **3D-W√ºrfel-Animation**: Physikalische W√ºrfel-Simulation
- **Dice-Box Integration**: Realistische W√ºrfelanimationen

#### W√ºrfel-Mechaniken
- **Dice Notation**: Standard-Format (1d20, 3d6+2, etc.)
- **Attribute + Skill Modifiers**: Automatische Berechnung
- **Situational Modifiers**: Bonus/Malus basierend auf Story-Kontext
- **Schwierigkeitsgrade**:
  - Simple
  - Medium
  - Difficult
  - Very Difficult
- **Erfolgs-Levels**:
  - Critical Failure (W√ºrfel = 1)
  - Major Failure
  - Regular Failure
  - Partial Failure
  - Regular Success
  - Major Success
  - Critical Success (W√ºrfel = 20)
- **Karmic Dice**: Optionales System f√ºr ausgewogenere Ergebnisse
- **Manual Dice Rolls**: Spieler k√∂nnen eigene W√ºrfe eingeben

### 5. **Action-System**

#### Action-Typen
- **Misc**: Allgemeine Aktionen
- **Attack**: Kampfaktionen
- **Spell**: Zauber wirken
- **Conversation**: Dialoge und Verhandlungen
- **Social Manipulation**: √úberzeugung, T√§uschung
- **Investigation**: Untersuchen und Erkunden
- **Travel**: Reisen und Fortbewegung
- **Crafting**: Gegenst√§nde herstellen

#### Action-Processing
- **Plausibilit√§tspr√ºfung**: AI validiert Aktionen
- **Impossible Actions**: System f√ºr unm√∂gliche Aktionen
- **Suggested Actions**: AI schl√§gt passende Aktionen vor
- **Custom Actions**: Freie Eingabe eigener Aktionen
- **Resource Cost**: Aktionen k√∂nnen Ressourcen kosten
- **Action Difficulty**: Dynamische Schwierigkeitsberechnung
- **Interruption System**: Aktionen k√∂nnen unterbrochen werden

### 6. **Inventarsystem**

#### Item-Management
- **Dynamic Inventory**: Gegenst√§nde werden zur Laufzeit hinzugef√ºgt/entfernt
- **Item Properties**:
  - Name und Beschreibung
  - Effekte (passiv/aktiv)
  - Ressourcenkosten f√ºr Nutzung
- **Item Usage**: Aktive Nutzung von Items im Spiel
- **AI-Generated Items**: Story-relevante Items werden von AI erstellt
- **Item Consumption**: Verbrauchbare Items
- **Item Images**: AI-generierte Bilder f√ºr Items

#### Crafting
- **Combining Items**: Mehrere Items kombinieren
- **Success/Failure States**:
  - Success: Neues Item, alte Items entfernt
  - Partial Failure: Kein neues Item, alte Items behalten
  - Failure: Kein neues Item, alte Items verloren

### 7. **Kampagnensystem**

#### Campaign-Struktur
- **Multi-Chapter-Campaigns**: Mehrere Kapitel
- **Plot Points**: Strukturierte Handlungspunkte pro Kapitel
- **Campaign Objectives**: Ziele f√ºr jedes Kapitel und Plot Point
- **Important NPCs**: Schl√ºssel-NPCs pro Plot Point
- **GM Notes**: Hinweise f√ºr spezielle Herausforderungen/Regeln
- **Chapter Progression**: Automatischer Kapitelfortschritt

#### Campaign-Features
- **World Details**: Detaillierte Weltenbeschreibung
- **Campaign Description**: √úbergreifende Kampagnenbeschreibung
- **Location Tracking**: Orte und Schaupl√§tze
- **Campaign Generation**: Vollst√§ndige AI-Generierung von Kampagnen

### 8. **KI-Bildgenerierung**

#### Image Generation
- **Story Images**: Begleitende Bilder f√ºr Story-Elemente
- **Character Images**: Charakterportraits
- **Item Images**: Bildliche Darstellung von Gegenst√§nden
- **Scene Visualization**: Szenen und Locations
- **Pollinations.ai Integration**: Kostenlose AI-Bildgenerierung
- **Image Prompts**: Spezialisierte Prompts f√ºr konsistenten Stil

### 9. **NPC-System**

#### NPC-Management
- **Dynamic NPCs**: NPCs werden zur Laufzeit erstellt
- **NPC Stats**: HP, MP, Rang (Very Weak bis Legendary)
- **NPC Relationships**: Hostile, Friendly, Neutral
- **NPC Knowledge**: System f√ºr bekannte Namen/Aliase
- **Party Members**: NPCs k√∂nnen zur Party geh√∂ren
- **NPC Resources**: Eigene Ressourcen-Verwaltung

### 10. **Spieleinstellungen**

#### Schwierigkeitsgrad
- **Difficulty Settings**: Anpassbare Schwierigkeitsgrade
- **Karmic Dice**: Toggle f√ºr ausgewogenere W√ºrfelergebnisse
- **Dynamic Combat**: Dynamische Kampf-Intensit√§t

#### AI-Konfiguration
- **Custom System Instructions**: Eigene System-Anweisungen
- **Custom Agent Instructions**: Spezifische Anweisungen f√ºr verschiedene Agents
  - Action Agent
  - Combat Agent
  - Story Agent
- **Custom Memories**: Spieler-definierte Erinnerungen
- **Custom GM Notes**: Eigene Spielleiter-Notizen
- **Temperature Control**: AI-Kreativit√§t anpassen
- **Fallback LLM**: Alternative AI-Modelle

#### Output-Einstellungen
- **AI Language**: Sprache der AI-Ausgaben
- **Narration Details**: Level of Detail (LOW, MEDIUM, HIGH)
- **Random Events Handling**: Zufallsereignisse (None, Low, Medium, High)

### 11. **Text-to-Speech (TTS)**

- **Story Narration**: Vorlesen der Story-Texte
- **Action Narration**: Vorlesen von Aktionen
- **MSEdge TTS Integration**: Microsoft Edge TTS-Engine
- **Multiple Voices**: Verschiedene Stimmen verf√ºgbar

### 12. **Import/Export**

#### Save-Game-System
- **LocalStorage-basiert**: Automatisches Speichern im Browser
- **Export Save Game**: JSON-Export des kompletten Spielstands
- **Import Save Game**: Spielstand wiederherstellen
- **Version Migration**: Automatische Migrations f√ºr Updates

#### Settings-Export
- **Export Tale Settings**: Story-Einstellungen exportieren
- **Export Campaign Settings**: Kampagnen-Einstellungen exportieren
- **Import Settings**: Einstellungen importieren
- **PDF Import**: Generierung aus PDF-Dokumenten

### 13. **Erweiterte Features**

#### Truth Oracle System
- **Ground Truth Tracking**: Versteckte "Wahrheiten" der Spielwelt
- **Discoverable Clues**: Hinweise die entdeckt werden k√∂nnen
- **State Simulation**: Simulation von Zust√§nden

#### History & Summary System
- **Story History**: Zusammenfassung relevanter Story-Details
- **Action History**: Historie der Charakter-Aktionen
- **Related Details**: Kontextabh√§ngige Details

#### Game Master Questions
- **GM Dialog**: Interaktive Fragen an den Spieler
- **Clarifications**: Kl√§rung von Unklarheiten
- **Story Input**: Spieler-Input f√ºr Story-Entscheidungen

#### Quickstart
- **Quick Story Generation**: Schnellstart mit vorgenerierter Story
- **Random Generation**: Zuf√§llige Story-Elemente
- **PDF-based Generation**: Story aus PDF-Dokumenten

### 14. **Debugging & Development**

#### Debug-Features
- **Debug State View**: Anzeige aller internen Zust√§nde
- **NPC State Inspector**: NPC-Status einsehen
- **Action History View**: Aktionsverlauf anzeigen
- **Thoughts State**: AI-Gedankenprozesse einsehen
- **Console Logging**: Detailliertes Logging

#### Testing
- **Playwright Tests**: E2E-Tests f√ºr alle Hauptfeatures
- **Test Coverage**: 
  - Onboarding
  - Party Lifecycle
  - Campaign Building
  - Game Loop
  - Combat & Inventory
  - Dice Rolls

## üéØ Technische Features

### Framework & Tech Stack
- **SvelteKit 2.x** mit Svelte 5
- **TypeScript 5.x**
- **Vite 5.x**
- **TailwindCSS** + **DaisyUI**
- **Mobile First**: Optimiert f√ºr mobile Ger√§te

### AI Integration
- **Google Gemini API**: Hauptmodell f√ºr Story & Game Logic
- **Streaming Support**: Echtzeit-Textgenerierung
- **JSON Streaming**: Strukturierte Datenausgabe
- **Fallback-Mechanismen**: Alternative Modelle bei Fehlern
- **Cost Tracking**: √úberwachung der API-Kosten

### State Management
- **Custom LocalStorage Hook**: Reaktive LocalStorage-Integration
- **State Persistence**: Automatisches Speichern
- **State Migration**: Versioniertes State-Management
- **Error State**: Globales Error-Handling

### Performance
- **Code Splitting**: Optimiertes Laden
- **Lazy Loading**: Dynamisches Laden von Komponenten
- **Image Optimization**: Effiziente Bildverwaltung

## üöÄ Geplante Features (In Development)

### RPG-Mechaniken
- ‚úÖ Character Stats (implementiert)
- ‚úÖ Dice rolls (implementiert)
- ‚úÖ Skills and Abilities (implementiert)
- ‚úÖ Character Progression (implementiert)
- ‚úÖ Combat System (implementiert)

### Zuk√ºnftige Erweiterungen
- Multiplayer-Unterst√ºtzung
- Erweiterte Crafting-Systeme
- Faction-System
- Quest-Tracking
- Achievement-System
- Character-Builds/Templates
- Erweiterte AI-Modelle

## üìä Unterst√ºtzte Spielsysteme

Das Spiel unterst√ºtzt beliebige Pen & Paper Systeme, Beispiele:
- Pathfinder
- Call of Cthulhu
- Star Wars
- Fate Core
- Harry Potter
- Discworld
- World of Darkness
- GURPS
- Mutants & Masterminds
- Dungeons & Dragons
- Und viele mehr...

## üé® UI/UX Features

- **Responsive Design**: Funktioniert auf allen Ger√§ten
- **Dark Mode**: DaisyUI Theme-Support
- **Loading Indicators**: Klare Feedback-Mechanismen
- **Modal Dialogs**: Intuitive Benutzerinteraktionen
- **Progress Bars**: Visuelle Fortschrittsanzeige
- **Accessibility**: Tabindex, ARIA-Labels

## üíæ Datenverwaltung

- **Browser-basiert**: Keine Server-Registrierung n√∂tig
- **Privacy-First**: API-Key nur lokal gespeichert
- **Offline-F√§higkeit**: Grundlegende Funktionen offline nutzbar
- **Cross-Device**: Export/Import f√ºr Ger√§te-Wechsel

---

**Version**: 0.13.0  
**Status**: Beta  
**License**: GNU AGPLv3  
**Live-Demo**: https://infinite-tales-rpg.vercel.app/
